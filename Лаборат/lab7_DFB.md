| [<- до лаборних робіт](README.md) | [на основну сторінку курсу](../README.md) |
| --------------------------------- | ----------------------------------------- |
|                                   |                                           |

# Лабораторна робота 7. Створення власних функцій та функціональних блоків. 

## Написання власної функції.

У лекції [Бібліотечні функції та розробка власних функціональних елементів](../Лекції/DFB.md) є приклад функції масштабування. Реалізуйте та перевірте роботу цієї функції на імітаторі ПЛК. Для перевірки використовуйте дані, описані у варіанті завдання. Зробіть копії екранів з реалізацією функції, програмою де вона використовується та таблицею анімації в якій показані вхідні та вихідне значення. 

## Створення функціонального блоку.

###### 1.Написання функціонального блоку користувача.

У лекції [Бібліотечні функції та розробка власних функціональних елементів](../Лекції/DFB.md) є приклад функціонального блоку для керування клапаном. Реалізуйте цей функціональний блок. 

###### 2.Використання функціонального блоку.

Створіть фрагмент програми для перевірки роботи створеного функціонального блоку. Можете використати той, що надається в лекції.

###### 3.Перевірка роботи функціонального блоку.

- Складіть таблицю перевірки функціонального блоку. 
- Перевірте роботу функціонального блоку на імітаторі ПЛК. 

## Добавлення функціонального блоку в програму керування.

###### 1.Експортування функціонального блоку.

Зробіть експортування функціонального блоку в файл

![](media7/1.png) 

###### 2. Імпортування функціонального блоку

- Відкрийте програму реалізації Вашого індивідуального варіанту на LD за лабораторної роботи  №3. 
- Зробіть імпорт функціонального блоку у Ваш проект

###### 3. Доробка програми користувача

У Вашому завданні є дискретні клапани або двигуни. 

- Для клапанів: Модифікуйте програму так, щоб виконувалась перевірка закривання та відкривання клапану перед переходом до наступних кроків. 

- Для двигунів (якщо дискретних клапанів немає): модифікуйте функціональний блок та програму так, щоб виконувалась перевірка спрацювання двигуна (зворотній сигнал по контакту від контактору).  

У випадку не зрозумілості постановки завдання, уточніть завдання у викладача.

- Модифікуйте таблиці перевірки так, щоб вони відповідали новій програмі користувача.
- Перевірте працездатність програми користувача.

###### 4. Завдання на підвищену оцінку.

**За успішного виконання цього завдання, студент отримує додаткові 3 бали на іспиті (в 100 бальній шкалі).**

- модифікуйте функціональний блок таким чином, щоб у нього був додатковий вхід з керуванням режимом імітації:
  - у нормальному режимі стан клапану залежить від значення датчиків кінцевого положення
  - у режимі імітації, значення датчиків для автомату станів не має значення, а час переходу між станами відбувається з часом `%TMSP-1`

| [<- до лаборних робіт](README.md) | [на основну сторінку курсу](../README.md) |
| --------------------------------- | ----------------------------------------- |
|                                   |                                           |